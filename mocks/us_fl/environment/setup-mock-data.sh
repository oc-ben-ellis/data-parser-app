#!/bin/bash

# Setup Mock Data for US Florida SFTP Test Environment
# This script copies mock data files into the SFTP container

set -e

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo -e "${GREEN}Setting up mock data for US Florida SFTP environment...${NC}"

# Check if docker-compose is running
if ! docker-compose ps | grep -q "Up"; then
    echo -e "${RED}Error: Docker containers are not running. Please run 'docker-compose up -d' first.${NC}"
    exit 1
fi

# Get the container name
CONTAINER_NAME=$(docker-compose ps -q sftp-server)

if [ -z "$CONTAINER_NAME" ]; then
    echo -e "${RED}Error: SFTP server container not found. Please check docker-compose status.${NC}"
    exit 1
fi

echo -e "${YELLOW}Found SFTP container: $CONTAINER_NAME${NC}"

# Create mock data directory structure in container
echo -e "${YELLOW}Creating directory structure...${NC}"
docker exec $CONTAINER_NAME mkdir -p /home/test/doc/cor
docker exec $CONTAINER_NAME mkdir -p /home/test/doc/Quarterly/Cor

# Create mock daily files
echo -e "${YELLOW}Creating mock daily files...${NC}"

# File 1: Oldest date file (should be included)
docker exec $CONTAINER_NAME sh -c 'cat > /home/test/doc/cor/20250829c.txt << EOF
L25000418660NEW BLESSING LOGISTICS LLC                                                                                                                                                                      AFLAL           5645 RUSTIC THORN RD                                                                JACKSONVILLE                  32219       5645 RUSTIC THORN RD                                                                JACKSONVILLE                FL32219     US09102025              N        FL                                       ROMAN SANTOS        GILBERTO              P5645 RUSTIC THORN RD                      JACKSONVILLE                FL32219    AMBRPROMAN SANTOS        GILBERTO              5645 RUSTIC THORN RD                      JACKSONVILLE                FL32219                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418670PREMIER PAINTING PRO SERVICES LLC                                                                                                                                                               AFLAL           2413 BUTTONWOOD DR                                                                  JACKSONVILLE                  32216       1718 EMBASSY DR                                                                     JACKSONVILLE                FL32207     US09102025              N        FL                                       MORALES             BYRON         ESR     P1718 EMBASSY ,DR                          JACKSONVILLE                FL32207    MGR PMORALES             BYRON         JJR     1718 EMBASSY DR                           JACKSONVILLE                FL32207                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418680THE FIFTH SIP MOBILE BAR LLC                                                                                                                                                                    AFLAL           8117 NW 78TH ST                                                                     TAMARAC                       33321       8117 NW 78TH ST                                                                     TAMARAC                     FL33321     US09102025              N        FL                                       DURSO               STEPHANIE     R       P8117 NW 78TH ST                           TAMARAC                     FL33321    CEO PDURSO               STEPHANIE     R       8117 NW 78TH ST                           TAMARAC                     FL33321                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418690KARLA\\\'S BEHAVIORAL TREATMENT LLC                                                                                                                                                                AFLAL           4164 W 6TH AVE                                                                      HIALEAH                       33012       4164 W 6TH AVE                                                                      HIALEAH                     FL33012     MD09102025              N        FL                                       ALMEIDA             MARIA         K       P4164 W 6TH AVE                            HIALEAH                     FL33012    MGR PALMEIDA             MARIA         K       4164 W 6TH AVE                            HIALEAH                     FL33012                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418700GOPHERUS LLC                                                                                                                                                                                    AFLAL           851 SCOTT DR                                                                        MARCO ISLAND                  34145       851 SCOTT DR                                                                        MARCO ISLAND                FL34145     US09092025              N        FL                                       TEDESCO             LYNNE         S       P851 SCOTT DR                              MARCO ISLAND                FL34145    MGRMPTEDESCO             LYNNE         S       851 SCOTT DR                              MARCO ISLAND                FL34145    MGRMPTEDESCO             TODD          D       851 SCOTT DR                              MARCO ISLAND                FL34145                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418710REID EXPANSIONS LLC                                                                                                                                                                             AFLAL           2740 SOMERSET DRIVE                       U218                                      LAUDERDALE LAKES              33311       2740 SOMERSET DRIVE                       U218                                      LAUDERDALE LAKES            FL33311     US09102025              N        FL                                       REIDTHELEGACY LLC                         C2740 SOMERSET DRIVE                       LAUDERDALE LAKES            FL33311    AR  CREIDTHELEGACY LLC                         2740 SOMERSET DRIVE, APT U218             LAUDERDALE LAKES            FL33311                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418720KAYSHELL\\\'S LLC                                                                                                                                                                                  AFLAL           21711 NORTHWEST 7TH COURT                                                           PEMBROKE PINES                33029       21711 NORTHWEST 7TH COURT                                                           PEMBROKE PINES              FL33029     US09072025              N        FL                                       WILLAMS             ROMANA        RMS     P21711 NORTHWEST 7TH COURT                 PEMBROKE PINES              FL33029    MGR PWILLIAMS            ROMANA        RMS     21711 NORTHWEST 7TH CT                    PEMBROKE PINES              FL33029                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418730ALPHA FRONT CAPITAL, LLC                                                                                                                                                                        AFLAL           1004 ELLERSTON STREET                                                               DAYTONA BEACH                 32124       1004 ELLERSTON STREET                                                               DAYTONA BEACH               FL32124       09052025              N        FL                                       NUHU                NAZIF                 P1004 ELLERSTON STREET                     DAYTONA BEACH               FL32124    MGR PNUHU                NAZIF                 1004 ELLERSTON STREET                     DAYTONA BEACH               FL32124                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418740GOATS DRIVE LLC                                                                                                                                                                                 AFLAL           6421 N FLORIDA AVE                        STE D-1333                                TAMPA                         33604       6421 N FLORIDA AVE                        STE D-1333                                TAMPA                       FL33604     US09102025              N        FL                                       PRADIA              JOSHUA                P12384 MARSHLAND ST                        RIVERVIEW                   FL33579    MGR PPRADIA              JOSHUA        D       12384 MARSHLAND ST                        RIVERVIEW                   FL33579                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418750SARASOTA FULL SERVICE CLEANING, LLC                                                                                                                                                             AFLAL           3406 SPAINWOOD DRIVE                                                                SARASOTA                      34232       3406 SPAINWOOD DRIVE                                                                SARASOTA                    FL34232     US09092025              N        FL                                       BURGOS              JENNIFER              P3406 SPAINWOOD DRIVE                      SARASOTA                    FL34232    MGR PBURGOS              JENNIFER              3406 SPAINWOOD DRIVE                      SARASOTA                    FL34232                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
EOF'

# File 2: Middle date (should be included)
docker exec $CONTAINER_NAME sh -c 'cat > /home/test/doc/cor/20250913c.txt << EOF
L25000418860CHIMILAO LLC                                                                                                                                                                                    AFLAL           625 ARCHER PARKWAY WEST                                                             CAPE CORAL                    33904       625 ARCHER PARKWAY WEST                                                             CAPE CORAL                  FL33904     US09052025              N        FL                                       BOONMY              SUSANA                P625 ARCHER PARKWAY WEST                   CAPE CORAL                  FL33904    MGR PBOONMY              SUSANA                625 ARCHER PARKWAY WEST                   CAPE CORAL                  FL33904                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
P25000051490CUERVO & COURET, INC.                                                                                                                                                                           ADOMP           13550 SW 88TH STREET                      SUITE 140                                 MIAMI                         33186       13550 SW 88TH STREET                      SUITE 140                                 MIAMI                       FL33186       09202025              N        FL                                       CUERVO              YANET                 P13550 SW 88TH STREET                      MIAMI                       FL33186    P   PCUERVO              YANET                 13550 SW 88TH STREET, SUITE 140           MIAMI                       FL33186    VP  PCOURET              MELISSA               13550 SW 88TH STREET, SUITE 140           MIAMI                       FL33186                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418870BOZAM ROOFING L.L.C.                                                                                                                                                                            AFLAL           442 ALBATROSS CT.                                                                   KISSIMMEE                     34759       442 ALBATROSS CT.                                                                   KISSIMMEE                   FL34759     US09102025              N        FL                                       BOZA                ELIER                 P442 ALBATROSS CT.                         KISSIMMEE                   FL34759    MNG PBOZA                ELIER                 442 ALBATROSS CT                          KISSIMMEE                   FL34759                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418880LALA LANDS LLC                                                                                                                                                                                  AFLAL           4191 39TH ST S                                                                      ST PETERSBURG                 33711       4191 39TH ST S                                                                      ST PETERSBURG               FL33711       09102025              N        FL                                       CARIONI             ANGELES       M       P4191 39TH ST S                            ST PETERSBURG               FL33711    MGR PCARIONI             ANGELES       M       4191 39TH ST S                            ST PETERSBIRG               FL33711                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418890ONSHORE REVENUE CYCLE MANAGEMENT COMPANY, LLC                                                                                                                                                   AFLAL           3152 LITTLE ROAD                          SUITE 361                                 NEW PORT RICHEY               34655       3152 LITTLE ROAD                          SUITE 361                                 NEW PORT RICHEY             FL34655     US09102025              N        FL                                       VELILLA             MICHAEL       E       P3152 LITTLE ROAD                          NEW PORT RICHEY             FL34655    MGR PVELILLA             MICHAEL               3152 LITTLE ROAD                          TRINITY                     FL34655    MGR PVELILLA             JACQUELINE    K       3152 LITTLE ROAD                          NEW PORT RICHEY             FL34655                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
P25000051500UK SERVICES GROUP CORP                                                                                                                                                                          ADOMP           13815 FAIRWAY ISLAND DR                   APT 1324                                  ORLANDO                       32837       13815 FAIRWAY ISLAND DR                   APT 1324                                  ORLANDO                     FL32837     US09102025              N        FL                                       DOS ANJOS DE ALMEIDAMATHEUS       A       P13815 FAIRWAY ISLAND DR                   ORLANDO                     FL32837    P   PDOS ANJOS DE ALMEIDAMATHEUS       A       13815 FAIRWAY ISLAND DR APT 1324          ORLANDO                     FL32837                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418900EL PALADAR JIBARO BAR RESTAURANT LLC                                                                                                                                                            AFLAL           122 PIERCE CHRISTIE DR                                                              VALRICO                       33594       907 BUNKER VIEW DR                                                                  APOLLO BEACH                FL33572     US09102025              N        FL                                       HIDALGO MATEO       SONIA         IMS     P907 BUNKER VIEW DR                        APOLLO BEACH                FL33572    MGR PHIDALGO MATEO       SONIA         IMS     907 BUNKER VIEW DR                        APOLLO BEACH                FL33572                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418910ROYAL STAYS MANAGEMENT LLC                                                                                                                                                                      AFLAL           294 MEADOWBROOK BLVD                                                                WINTER HAVEN                  33881       294 MEADOWBROOK BLVD                                                                WINTER HAVEN                FL33881       09102025              N        FL                                       VAGNONI             MINERVA       J       P294 MEADOWBROOK BLVD                      WINTER HAVEN                FL33881    MGR PVAGNONI             MINERVA       J       294 MEADOWBROOK BLVD                      WINTER HAVEN                FL33881    AMBRPZHOU LIN            MARIMAR       C       294 MEADOWBROOK BLVD                      WINTER HAVEN                FL33881                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000418920RISING VENTURES, LLC                                                                                                                                                                            AFLAL           6314 SEA LAVENDER DRIVE                                                             BRADENTON                     34210       6314 SEA LAVENDER DRIVE                                                             BRADENTON                   FL34210       09102025              N        FL                                       DAHLER              ROCHETTE      H       P6314 SEA LAVENDER DRIVE                   BRADENTON                   FL34210    MGR PDAHLER              ROCHETTE      H       6314 SEA LAVENDER DRIVE                   BRADENTON                   FL34210                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
P25000051510GREEN SOURCE SOLUTION INC                                                                                                                                                                       ADOMP           1586 SW. 23RD TERRACE                                                               DEERFIELD BEACH               33442       1586 SW. 23RD TERRACE                                                               DEERFIELD BEACH             FL33442     US09082025              N        FL                                       PAUL                EDWIGE                P1586 SW 23RD TERRACE                      DEERFIELD BEACH             FL33442    P   PPAUL                EDWIGE                1586 SW 23RD TERRACE                      DEERFIELD BEACH             FL33442                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
EOF'

# File 3: Most recent date (should be included)
docker exec $CONTAINER_NAME sh -c 'cat > /home/test/doc/cor/20250915c.txt << EOF
M25000012990LEVEL ONE CONSULTING LLC                                                                                                                                                                        AFORL           710 WASHINGTON AVE UNIT CU-11                                                       MIAMI BEACH                   33139       710 WASHINGTON AVE UNIT CU-11                                                       MIAMI BEACH                 FL33139     US08292025              N        LA                                       PALMER              ANTONIO               P1040 BISCAYNE BLVD UNIT 3507              MIAMI                       FL33132    MBR PBETHAE              ARTHUR                710 WASHINGTON AVE UNIT CU-11             MIAMI BEACH                 FL33139    MBR PBETHAE              STEVI                 6845 SIGRI ST                             LAS VEGAS                   NY89166                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419730HCA GROUP LLC                                                                                                                                                                                   AFLAL           1051 STATE ROAD 544 EAST UNIT 5216                                                  HAINES CITY                   33845       1051 STATE ROAD 544 EAST UNIT 5216                                                  HAINES CITY                 FL33845     US09112025              N        FL                                       ESPINAL             JOANNA                P176 ARLINGTON SQUARE CT                   HAINES CITY                 FL33844    AMBRPESPINAL             JOANNA                176 ARLINGTON SQUARE CT                   HAINES CITY                 FL33844                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419740BUCKAT LLC                                                                                                                                                                                      AFLAL           382 NE 191ST ST #157066                                                             MIAMI                         33179       382 NE 191ST ST #157066                                                             MIAMI                       FL33179     US09112025              N        FL                                       UNITED STATES CORPORATION AGENTS, INC.    C476 RIVERSIDE AVE.                        JACKSONVILLE                FL32202    AMBRPLORENZEN            TAYLOR        J       382 NE 191ST ST #157066                   MIAMI                       FL33179                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419750BLACK CORAL HOLDINGS, LLC                                                                                                                                                                       AFLAL           1112 W WATERS AVE                                                                   TAMPA                         33604       1112 W WATERS AVE                                                                   TAMPA                       FL33604       09112025                       FL                                       BUCHANAN INGERSOLL ROONEY, PC             C401 E JACKSON ST                          TAMPA                       FL32602                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419760NXT LEVEL SHINE LLC.                                                                                                                                                                            AFLAL           18580 E COLONIAL DR                       UNIT 183                                  ORLANDO                       32820       18580 E COLONIAL DR                       UNIT 183                                  ORLANDO                     FL32820       09052025              N        FL                                       CONSULT CAPITAL LLC                       C520 FAIRFAX LN                            APOLLO BEACH                FL33572    AMBRPBOWERS              THEO                  16012 SONOMA GROVE CIR                    TAMPA                       FL33647    AMBRPBOWERS              PRINCESS              16012 SONOMA GROVE CIR                    TAMPA                       FL33647                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
F25000005210ZOE HOLDING COMPANY, INC.                                                                                                                                                                       AFORP           8601 N SCOTTSDALE RD STE 305                                                        SCOTTSDALE                    85253       8601 N SCOTTSDALE RD STE 305                                                        SCOTTSDALE                  AZ85253       09122025860929639     N        AZ                                       PARACORP INCORPORATED                     C155 OFFICE PLAZA 1 FL                     TALLAHASSEE                 FL32301    CEO PZOWINE              DAVID                 8601 N SCOTTSDALE RD STE 305              SCOTTSDALE                  AZ85253                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419770KAZA CONSULTANTS LLC                                                                                                                                                                            AFLAL           6435 SW 83RD ST                                                                     MIAMI                         33143       6435 SW 83RD ST                                                                     MIAMI                       FL33143     US09112025              N        FL                                       KOVACS              KRISTINA              P6435 SW 83 ST                             MIAMI                       FL33143    MGR PKOVACS              KRISTINA              6435 SW 83 ST                             MIAMI                       FL33143                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419780PRIME TERRA HOLDINGS L.L.C.                                                                                                                                                                     AFLAL           825 N BEL AIR DR                                                                    PLANTATION                    33317       825 N BEL AIR DR                                                                    PLANTATION                  FL33317     US09112025              N        FL                                       REPUBLIC REGISTERED AGENT LLC             C476 RIVERSIDE AVE                         JACKSONVILLE                FL32202    AMBRPSOLE                GABRIEL               825 N BEL AIR DR                          PLANTATION                  FL33317    AMBRPLEAL                MARCO                 4010 N PINE ISLAND RD APT 2H              SUNRISE                     FL33351    AMBRPWRIGHT              TYREKE                881 NW 34TH AVE                           LAUDERHILL                  FL33311                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419790RICHARDS EXCAVATION LLC                                                                                                                                                                         AFLAL           3174 BAYVIEW LN                                                                     SAINT CLOUD                   34772       3174 BAYVIEW LN                                                                     SAINT CLOUD                 FL34772       09102025              N        FL                                       GONZALEZ            RICHARD       N       P3174 BAYVIEW LN                           SAINT CLOUD                 FL34772    MGR PGONZALEZ            RICHARD       N       3174 BAYVIEW LN                           SAINT CLOUD                 FL34772                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
L25000419800ELITE MOTIONS LLC                                                                                                                                                                               AFLAL           4783 PRESERVE ST                                                                    COCONUT CREEK                 33073       4783 PRESERVE ST                                                                    COCONUT CREEK               FL33073     US09052025              N        FL                                       NUNEZ               DAVID         J       P4783 PRESERVE ST                          COCONUT CREEK               FL33073    MGR PVALLONE             AGUSTIN       N       600 N ANDREWS AVE APT 1419                FORT LAUDERDALE             FL33311    MGR PNUNEZ               DAVID         J       4783 PRESERVE ST                          COCONUT CREEK               FL33073    MGR PBROWN               DWIGHT        F       2918 NW 130TH AVE #204                    SUNRISE                     FL33323                                                                                                                                                                                                                                                                                                                                                                                                        
EOF'

# Create mock quarterly file
echo -e "${YELLOW}Creating mock quarterly file...${NC}"
docker exec $CONTAINER_NAME sh -c 'cat > /home/test/doc/Quarterly/Cor/cordata.zip << EOF
PK\u0003\u0004\u0014\u0000\u0008\u0000\u0008\u0000FL Quarter 3 2025 Business Registrations
Contains comprehensive business registration data for Q3 2025
Document Format: Fixed-width text
Records: 10,500
File generated: 2025-09-15
Data fields include: Document Number, Entity Name, Entity Type, Status, Filing Date, State/Province of Origin
Processed by: Florida Division of Corporations
Data period: July 1, 2025 - September 30, 2025
EOF'

# Verify files were created
echo -e "${YELLOW}Verifying mock data...${NC}"
echo "Daily files:"
docker exec $CONTAINER_NAME ls -la /home/test/doc/cor/
echo "Quarterly files:"
docker exec $CONTAINER_NAME ls -la /home/test/doc/Quarterly/Cor/

echo -e "${GREEN}Mock data setup completed successfully!${NC}"
echo -e "${GREEN}You can now test the US_FL configuration.${NC}"
